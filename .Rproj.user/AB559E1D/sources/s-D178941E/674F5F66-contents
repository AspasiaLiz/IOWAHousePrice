---
title: "136_Liz_Proj_Step2_CleanUpMissingData"
author: "Hyunkyung Kim"
date: "October 26, 2018"
output:
  word_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```




***  missing data ***
Remove VS Impute?: 
Column	# of NA

Alley	1369
PoolQC	1453
Fence	1179
MiscFeature	1406
FireplaceQu	690


# Pull data from step1


1. Option 1 -opt1h_cat 
Remove. Alley  to MiscFeature  - The
```{r}

opt1h_cat

opt2h_cat


```



# In order to add new level, 
levels(x)<-c(levels(x),"None")  #Add the extra level to your factor
x[is.na(x)] <- "None"  
```{r}
levels(housedata_cat$Alley)<-c(levels(housedata_cat$Alley),"NoAlley")
housedata_cat$Alley[is.na(housedata_cat$Alley)]<-"NoAlley"
table(housedata_cat$Alley)

levels(housedata_cat$PoolQC)<-c(levels(housedata_cat$PoolQC),"NoPool")
housedata_cat$PoolQC[is.na(housedata_cat$PoolQC)]<-"NoPool"
table(housedata_cat$PoolQC)


levels(housedata_cat$Fence)<-c(levels(housedata_cat$Fence),"NoFence")
housedata_cat$Fence[is.na(housedata_cat$Fence)]<-"NoFence"
table(housedata_cat$Fence)

levels(housedata_cat$MiscFeature)<-c(levels(housedata_cat$MiscFeature),"NoMiscFeature")
housedata_cat$MiscFeature[is.na(housedata_cat$MiscFeature)]<-"NoMiscFeature"
table(housedata_cat$MiscFeature)

levels(housedata_cat$FireplaceQu)<-c(levels(housedata_cat$FireplaceQu),"None")
housedata_cat$FireplaceQu[is.na(housedata_cat$FireplaceQu)]<-"None"
table(housedata_cat$FireplaceQu)


```






```{r}
housedatac<-housedata
housedatac$MSSubClass<-as.factor(housedata$MSSubClass)
str(housedatac)



```{r}
housedatac<-housedata
housdatac<-housedatac[,c("Id")]
#house_NA_I<-housedatac[,-c('Alley','FireplaceQu','PoolQC','Fence'	,'MiscFeature')]
#house_NA_R<-housedatac[,-c(1,2,3)]
#housedatac<-housedatac[,-c(7,58,73,74,75)]


```




# Side work - checking relationship between lot area and lot frontage
```{r}
plot(housedata_num$LotFrontage,housedata_num$LotArea, xlim=c(0,200),ylim=c(0,60000))
lm(housedata_num$LotFrontage~housedata_num$LotArea)

```
Feature selection

```{r}
library(MASS)


housedata_clean<-data.frame(c(housedata_cat,housedata_num))

housedata_clean2<-na.omit(housedata_clean)
full1<-lm(housedata_num$SalePrice~housedata_num$MSSubClass,data=housedata_num)
#full<-lm(housedata_clean2$SalePrice~., data=housedata_clean2)
#null<-lm(housedata_clean$SalePrice~1, data=housedata_clean)
#StepF<-StepAIC(null, scope=list(lower=null, upper=full), direction="foward", trace=TRUE)
str(housedata_clean2)
```

Plot the numerical variables
```{r}
#install.packages("VIM")
#library(VIM)
#summary(housedatac)
#housedata_imp<-kNN(housedata_cat,variable="LotFrontage", k=6)
```